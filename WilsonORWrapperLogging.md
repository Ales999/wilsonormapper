# Logging #

The logging interface allows you to easily write log entries to the Windows event log (`EventLogger`) or to text files using third-party logging libraries (NLog and log4net).


## Configuration ##

To configure the logging subsystem, you first need to tell the wrapper which logging system you are using in your [wiki:Configuration] file, as shown below.

```
<WilsonORWrapper
	...
	connectionString="TestData"
	logger="None|EventLog|Log4Net|NLog"
/>
```

Each option will cause the wrapper to initialize the respective logging subsystem.

Note that specifying `None` will cause the wrapper to use a `NullLogger`. This logger does nothing, but it allows you to easily turn off logging without making any changes in your code, as there will still be a logging service available to your application (it just won't do anything).


## Using the Logger Service ##

To log something, use the `Logger` class (`WilsonORWrapper.Services.Logger`). There are four logging levels: ''Debug'', ''Info'', ''Warning'', and ''Error''; logging to each is as simple as calling a method with the same name.

Each logger method acceps the following parameter lists:

  * A single `string`.
  * A single `string` followed by one or more string arguments.

An example of logging is exposed below.

```
Logger.Debug("debug message");
Logger.Info("My {0} message", "info");
```

Depending on your specific logger configuration, your message may or may not be logged based on the logging level permitted by the logging subsystem. To find out if logging is enabled at a given level, use the following properties on the `Logger` class: `IsDebugEnabled`, `IsInfoEnabled`, `IsWarningEnabled`, and `IsErrorEnabled`.


## Intercepting and logging O/R mapper commands ##

The logging system automatically adds an interceptor to the O/R mapper that will cause all SQL commands generated by the O/R mapper to be logged at the debug level. As a result, activating logging at the debug level could add an incredible amount of data to your log files.


## Using EventLogger ##

Specifying the `EventLog` logger will cause all log events to be sent to the Windows event log. All events are saved to the Application event log. The ''source'' of each event is set to the `connectionString` property declared in the `WilsonORWrapper` configuration. In the example configuration above, the source of all events would be set to ''TestData''.

The `EventLogger` does not support logging at the debug level. Logging at the info, warning, or error levels will log messages to the event log using the event type of the same name.


## Using Log4NetLogger ##

Using `Log4NetLogger` requires some additional configuration steps:

  1. You must add a reference to `WilsonORWrapper.Logging.Log4Net.dll` and to `log4net.dll`.
  1. You must add the appropriate configuration settings as required by log4net. Follow the configuration instructions that come with log4net.

Once that is done, you log events as outlined above. All log events will be directed to log4net.


## Using NLogLogger ##

Using `NLogLogger` requires some additional configuration steps:

  1. You must add a reference to `WilsonORWrapper.Logging.NLog.dll` and to `NLog.dll`.
  1. You must add the appropriate configuration settings as required by NLog. Follow the configuration instructions that come with NLog.

Once that is done, you log events as outlined above. All log events will be directed to NLog.

